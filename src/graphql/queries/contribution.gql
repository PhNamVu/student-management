
query getContribute($idMgz: uuid){
  contributions(where: {magazine: {id: {_eq: $idMgz}}}){
    title
    magazine{
      label
    }
    id
    user{
      fullName
      faculty{
        label
      }
    }
    userByPublicBy{
      fullName
    }
    isSelected
    faculty{
      label
    }
    artical
    image
    deleted
    createdAt
    updatedAt
  }
},

query getContributeByUserId($idUser: uuid){
  contributions(where: {user: {id: {_eq: $idUser}}}){
    title
    magazine{
      label
    }
    id
    user{
      faculty{
        label
      }
    }
    userByPublicBy{
      fullName
    }
    isSelected
    faculty{
      label
    }
    artical
    image
    deleted
    createdAt
    updatedAt
  }
}

query getContribution($id: uuid){
  contributions(where: {id: {_eq: $id}}){
    title
    artical
    image
    magazine {
      id
      closureTemp
      closureFinal
    }
  }
}

mutation addContribution($object: contributions_insert_input!) {
  insert_contributions(objects: [$object]) {
    affected_rows
    returning {
      id
    }
  }
}

mutation updateContribution($id: uuid, $object: contributions_set_input!) {
  update_contributions(where: { id: {_eq: $id } }, _set: $object) {
    affected_rows
    returning {
      id
    }
  }
}

